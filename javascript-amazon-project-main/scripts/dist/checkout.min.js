"use strict";var _cart=require("../data/cart.js"),_products=require("../data/products.js"),_money=require("./utils/money.js"),_helloEsm=require("https://unpkg.com/supersimpledev@1.0.1/hello.esm.js"),_index=_interopRequireDefault(require("https://unpkg.com/dayjs@1.11.10/esm/index.js")),_deliveryOptions=require("../data/deliveryOptions.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(0,_helloEsm.hello)();var today=(0,_index.default)(),deliveryDate=today.add(7,"days");function renderOrderSummary(){var a="";_cart.cart.forEach(function(e){var n,i=e.productId;_products.products.forEach(function(e){e.id===i&&(n=e)});var t,d=e.deliveryOptionId;_deliveryOptions.deliveryOptions.forEach(function(e){e.id===d&&(t=e)});var r=(0,_index.default)().add(t.deliveryDays,"days").format("dddd, MMMM D");a+='\n    <div class="cart-item-container \n      js-cart-item-container-'.concat(n.id,'">\n            <div class="delivery-date">\n              Delivery date: ').concat(r,'\n            </div>\n\n            <div class="cart-item-details-grid">\n              <img class="product-image" src="').concat(n.image,'">\n\n              <div class="cart-item-details">\n                <div class="product-name">\n                  ').concat(n.name,'\n                </div>\n                <div class="product-price">\n                  $').concat((0,_money.formatCurrency)(n.priceCents),'\n                </div>\n                <div class="product-quantity">\n                  <span>\n                    Quantity: <span class="quantity-label">').concat(e.quantity,'</span>\n                  </span>\n                  <span class="update-quantity-link link-primary">\n                    Update\n                  </span>\n                  <span class="delete-quantity-link link-primary js-delete-link" data-product-id="').concat(n.id,'">\n                    Delete\n                  </span>\n                </div>\n              </div>\n\n              <div class="delivery-options">\n                <div class="delivery-options-title">\n                  Choose a delivery option:\n                </div>\n                ').concat(function(t,d){var r="";return _deliveryOptions.deliveryOptions.forEach(function(e){var n=(0,_index.default)().add(e.deliveryDays,"days").format("dddd, MMMM D"),i=(0===e.priceCents||"$".concat((0,_money.formatCurrency)(_deliveryOptions.deliveryOptions.priceCents)," -"),e.id===d.deliveryOptionId);r+='\n      <div class="delivery-option js-delivery-option"\n      data-product-id="'.concat(t.id,'" data-delivery-option-id="').concat(e.id,'">\n        <input type="radio"\n        ').concat(i?"checked":"",' \n        class="delivery-option-input" name="delivery-option-').concat(t.id,'">\n        <div>\n          <div class="delivery-option-date">\n            ').concat(n,'\n          </div>\n          <div class="delivery-option-price">\n            $9.99 - Shipping\n          </div>\n        </div>\n      </div>\n      ')}),r}(n,e),"\n              </div>\n            </div>\n          </div>\n\n      ")}),document.querySelector(".js-order-summary").innerHTML=a,document.querySelectorAll(".js-delete-link").forEach(function(n){n.addEventListener("click",function(){var e=n.dataset.productId;(0,_cart.removeFromCart)(e),document.querySelector(".js-cart-item-container-".concat(e)).remove()})}),document.querySelectorAll(".js-delivery-option").forEach(function(t){t.addEventListener("click",function(){var e=t.dataset,n=e.productId,i=e.deliveryOptionId;(0,_cart.updateDeliveryOption)(n,i),renderOrderSummary()})})}console.log(deliveryDate.format("dddd, MMMM, D")),renderOrderSummary();
//# sourceMappingURL=checkout.min.js.map
