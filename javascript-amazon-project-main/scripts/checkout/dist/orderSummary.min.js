"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderOrderSummary=renderOrderSummary;var _cart=require("../../data/cart.js"),_products=require("../../data/products.js"),_money=require("../utils/money.js"),_helloEsm=require("https://unpkg.com/supersimpledev@1.0.1/hello.esm.js"),_index=_interopRequireDefault(require("https://unpkg.com/dayjs@1.11.10/esm/index.js")),_deliveryOptions=require("../../data/deliveryOptions.js"),_paymentSummary=require("./paymentSummary.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function renderOrderSummary(){var d="";_cart.cart.forEach(function(e){var n=e.productId,t=(0,_products.getProduct)(n),r=e.deliveryOptionId,i=(0,_deliveryOptions.getDeliveryOption)(r),a=(0,_index.default)().add(i.deliveryDays,"days").format("dddd, MMMM D");d+='\n    <div class="cart-item-container \n    js-cart-item-container\n    js-cart-item-container-'.concat(t.id,'">\n            <div class="delivery-date">\n              Delivery date: ').concat(a,'\n            </div>\n\n            <div class="cart-item-details-grid">\n              <img class="product-image" src="').concat(t.image,'">\n\n              <div class="cart-item-details">\n                <div class="product-name">\n                  ').concat(t.name,'\n                </div>\n                <div class="product-price">\n                  $').concat((0,_money.formatCurrency)(t.priceCents),'\n                </div>\n                <div class="product-quantity js-product-quantity-').concat(t.id,'">\n                  <span>\n                    Quantity: <span class="quantity-label">').concat(e.quantity,'</span>\n                  </span>\n                  <span class="update-quantity-link link-primary">\n                    Update\n                  </span>\n                  <span class="delete-quantity-link link-primary js-delete-link js-delete-link-').concat(t.id,'" data-product-id="').concat(t.id,'">\n                    Delete\n                  </span>\n                </div>\n              </div>\n\n              <div class="delivery-options">\n                <div class="delivery-options-title">\n                  Choose a delivery option:\n                </div>\n                ').concat(function(i,a){var d="";return _deliveryOptions.deliveryOptions.forEach(function(e){var n=(0,_index.default)().add(e.deliveryDays,"days").format("dddd, MMMM D"),t=0===e.priceCents?"FREE":"$".concat((0,_money.formatCurrency)(e.priceCents)," -"),r=e.id===a.deliveryOptionId;d+='\n      <div class="delivery-option js-delivery-option"\n      data-product-id="'.concat(i.id,'" data-delivery-option-id="').concat(e.id,'">\n        <input type="radio"\n        ').concat(r?"checked":"",' \n        class="delivery-option-input" name="delivery-option-').concat(i.id,'">\n        <div>\n          <div class="delivery-option-date">\n            ').concat(n,'\n          </div>\n          <div class="delivery-option-price">\n            ').concat(t," Shipping\n          </div>\n        </div>\n      </div>\n      ")}),d}(t,e),"\n              </div>\n            </div>\n          </div>\n\n      ")}),document.querySelector(".js-order-summary").innerHTML=d,document.querySelectorAll(".js-delete-link").forEach(function(n){n.addEventListener("click",function(){var e=n.dataset.productId;(0,_cart.removeFromCart)(e),document.querySelector(".js-cart-item-container-".concat(e)).remove(),(0,_paymentSummary.renderPaymentSummary)()})}),document.querySelectorAll(".js-delivery-option").forEach(function(r){r.addEventListener("click",function(){var e=r.dataset,n=e.productId,t=e.deliveryOptionId;(0,_cart.updateDeliveryOption)(n,t),renderOrderSummary(),(0,_paymentSummary.renderPaymentSummary)()})})}
//# sourceMappingURL=orderSummary.min.js.map
