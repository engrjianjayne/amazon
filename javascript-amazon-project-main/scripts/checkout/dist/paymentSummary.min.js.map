{"version":3,"sources":["paymentSummary.js"],"names":["_cart","require","_products","_deliveryOptions","_money","renderPaymentSummary","productPriceCents","shippingPriceCents","cart","forEach","cartItem","product","getProduct","productId","priceCents","quantity","deliveryOptionId","deliveryOption","totalBeforeTaxCents","taxCents","formatCurrency","totalCents","document","querySelector","innerHTML","paymentSummaryHTML"],"mappings":"sHAAA,IAAAA,MAAAC,QAAA,sBACAC,UAAAD,QAAA,0BACAE,iBAAAF,QAAA,iCACAG,OAAAH,QAAA,qBAGO,SAASI,uBANhB,IAAAC,EAAA,EAQMC,EAAqB,EAN3BC,MAAAA,KAAAC,QAAA,SAAAC,GAUI,IAAMC,GAAU,EAAAT,UAAAU,YAAWF,EAASG,WATxCP,GAAAK,EAAAG,WAAAJ,EAAAK,SAGO,IAASV,GAAAA,EAAAA,iBAAAA,mBAAuBK,EAAAM,kBACrCT,GAAwBU,EAAxBH,aAIAN,IAAAA,EAAaF,EAAcC,EACnBI,EAAU,GAAAO,EAChBZ,EAAiBY,EAAIC,EAGrBZ,EAAsBU,uMAAAA,QAkDzB,EAAAb,OAAAgB,gBAAAd,GAlDyBW,6JAAAA,QAqBlB,EAAAb,OAAAgB,gBAAeb,GArBGU,oKAAAA,QA2BjB,EAAAb,OAAAgB,gBAAeF,GA3BED,0JAAAA,QAiCjB,EAAAb,OAAAgB,gBAAeD,GAjCEF,8JAAAA,QAuCf,EAAAb,OAAAgB,gBAAeC,GAvCAJ,6HAgDxBK,SAASC,cAAc,uBACpBC,UAAYC","file":"paymentSummary.min.js","sourcesContent":["import {cart} from '../../data/cart.js';\r\nimport{getProduct} from '../../data/products.js';\r\nimport { getDeliveryOption } from '../../data/deliveryOptions.js';\r\nimport {formatCurrency} from '../utils/money.js';\r\n\r\n\r\nexport function renderPaymentSummary() {\r\n  let productPriceCents = 0;\r\n  let shippingPriceCents = 0;\r\n\r\n\r\n  cart.forEach((cartItem) => {\r\n    const product = getProduct(cartItem.productId);\r\n    productPriceCents += product.priceCents * cartItem.quantity;\r\n\r\n    const deliveryOption = getDeliveryOption(cartItem.deliveryOptionId);\r\n    shippingPriceCents += deliveryOption.priceCents;\r\n  });\r\n\r\n  const totalBeforeTaxCents = productPriceCents + shippingPriceCents;\r\n  const taxCents = totalBeforeTaxCents * 0.1;\r\n  const totalCents = totalBeforeTaxCents + taxCents;\r\n\r\n  const paymentSummaryHTML = `\r\n    <div class=\"payment-summary-title\">\r\n      Order Summary\r\n    </div>\r\n\r\n    <div class=\"payment-summary-row\">\r\n      <div>Items (3):</div>\r\n      <div class=\"payment-summary-money\">\r\n      $${formatCurrency(productPriceCents)}</div>\r\n    </div>\r\n\r\n    <div class=\"payment-summary-row\">\r\n      <div>Shipping &amp; handling:</div>\r\n      <div class=\"payment-summary-money\">\r\n      ${formatCurrency(shippingPriceCents)}</div>\r\n    </div>\r\n\r\n    <div class=\"payment-summary-row subtotal-row\">\r\n      <div>Total before tax:</div>\r\n      <div class=\"payment-summary-money\">\r\n      $${formatCurrency(totalBeforeTaxCents)}</div>\r\n    </div>\r\n\r\n    <div class=\"payment-summary-row\">\r\n      <div>Estimated tax (10%):</div>\r\n      <div class=\"payment-summary-money\">\r\n      $${formatCurrency(taxCents)}</div>\r\n    </div>\r\n\r\n    <div class=\"payment-summary-row total-row\">\r\n      <div>Order total:</div>\r\n      <div class=\"payment-summary-money\">\r\n        $${formatCurrency(totalCents)}</div>\r\n    </div>\r\n\r\n    <button class=\"place-order-button button-primary\">\r\n      Place your order\r\n    </button>\r\n\r\n  `;\r\n\r\n  document.querySelector('.js-payment-summary')\r\n    .innerHTML = paymentSummaryHTML;\r\n}"]}