{"version":3,"sources":["cart.js"],"names":["cart","loadFromStorage","JSON","parse","localStorage","getItem","productId","quantity","deliveryOptionId","saveToStorage","setItem","stringify","addToCart","matchingItem","forEach","cartItem","push","removeFromCart","newCart","updateDeliveryOption"],"mappings":";;;;;;;;;;AAAA;AACO,IAAIA,IAAJ;;AAEPC,eAAe;;AAER,SAASA,eAAT,GAA0B;AAC/B,iBAAAD,IAAI,GAAGE,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;;AAEA,MAAI,CAACL,IAAL,EAAW;AACT,mBAAAA,IAAI,GAAG,CAAC;AACNM,MAAAA,SAAS,EAAE,sCADL;AAENC,MAAAA,QAAQ,EAAE,CAFJ;AAGNC,MAAAA,gBAAgB,EAAE;AAHZ,KAAD,EAIJ;AACDF,MAAAA,SAAS,EAAE,sCADV;AAEDC,MAAAA,QAAQ,EAAE,CAFT;AAGDC,MAAAA,gBAAgB,EAAE;AAHjB,KAJI,CAAP;AASD;AACF;;AAGD,SAASC,aAAT,GAAyB;AACvBL,EAAAA,YAAY,CAACM,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACS,SAAL,CAAeX,IAAf,CAA7B;AACD;;AAGM,SAASY,SAAT,CAAmBN,SAAnB,EAA8B;AACnC,MAAIO,YAAJ;AAEAb,EAAAA,IAAI,CAACc,OAAL,CAAa,UAACC,QAAD,EAAc;AACzB,QAAIT,SAAS,KAAKS,QAAQ,CAACT,SAA3B,EAAsC;AACpCO,MAAAA,YAAY,GAAGE,QAAf;AACD;AACF,GAJD;;AAMA,MAAIF,YAAJ,EAAkB;AAChBA,IAAAA,YAAY,CAACN,QAAb,IAAyB,CAAzB;AACD,GAFD,MAEO;AACLP,IAAAA,IAAI,CAACgB,IAAL,CAAU;AACRV,MAAAA,SAAS,EAAEA,SADH;AAERC,MAAAA,QAAQ,EAAE,CAFF;AAGRC,MAAAA,gBAAgB,EAAE;AAHV,KAAV;AAKD;;AACDC,EAAAA,aAAa;AACd;;AAEM,SAASQ,cAAT,CAAwBX,SAAxB,EAAmC;AACxC,MAAMY,OAAO,GAAG,EAAhB;AAEAlB,EAAAA,IAAI,CAACc,OAAL,CAAa,UAACC,QAAD,EAAc;AACzB,QAAIA,QAAQ,CAACT,SAAT,KAAuBA,SAA3B,EAAsC;AACpCY,MAAAA,OAAO,CAACF,IAAR,CAAaD,QAAb;AACD;AACF,GAJD;AAMA,iBAAAf,IAAI,GAAGkB,OAAP;AAEAT,EAAAA,aAAa;AACd;;AAEM,SAASU,oBAAT,CAA8Bb,SAA9B,EAAyCE,gBAAzC,EAA2D;AAChE,MAAIK,YAAJ;AAEAb,EAAAA,IAAI,CAACc,OAAL,CAAa,UAACC,QAAD,EAAc;AACzB,QAAIT,SAAS,KAAKS,QAAQ,CAACT,SAA3B,EAAsC;AACpCO,MAAAA,YAAY,GAAGE,QAAf;AACD;AACF,GAJD;AAMAF,EAAAA,YAAY,CAACL,gBAAb,GAAgCA,gBAAhC;AAEAC,EAAAA,aAAa;AACd","sourcesContent":["// Deduplicating data or Normalizing data\r\nexport let cart;\r\n\r\nloadFromStorage();\r\n\r\nexport function loadFromStorage(){\r\n  cart = JSON.parse(localStorage.getItem('cart'));\r\n\r\n  if (!cart) {\r\n    cart = [{\r\n      productId: 'e43638ce-6aa0-4b85-b27f-e1d07eb678c6',\r\n      quantity: 2,\r\n      deliveryOptionId: '1'\r\n    }, {\r\n      productId: '15b6fc6f-327a-4ec4-896f-486349e85a3d',\r\n      quantity: 1,\r\n      deliveryOptionId: '2'\r\n    }];  \r\n  }\r\n}\r\n\r\n\r\nfunction saveToStorage() {\r\n  localStorage.setItem('cart', JSON.stringify(cart));\r\n}\r\n\r\n\r\nexport function addToCart(productId) {\r\n  let matchingItem;\r\n\r\n  cart.forEach((cartItem) => {\r\n    if (productId === cartItem.productId) {\r\n      matchingItem = cartItem;\r\n    }\r\n  });\r\n\r\n  if (matchingItem) {\r\n    matchingItem.quantity += 1;\r\n  } else {\r\n    cart.push({\r\n      productId: productId,\r\n      quantity: 1,\r\n      deliveryOptionId: '1'\r\n    });\r\n  }\r\n  saveToStorage();\r\n}\r\n\r\nexport function removeFromCart(productId) {\r\n  const newCart = [];\r\n\r\n  cart.forEach((cartItem) => {\r\n    if (cartItem.productId !== productId) {\r\n      newCart.push(cartItem);\r\n    }\r\n  });\r\n\r\n  cart = newCart;\r\n\r\n  saveToStorage();\r\n}\r\n\r\nexport function updateDeliveryOption(productId, deliveryOptionId) {\r\n  let matchingItem;\r\n\r\n  cart.forEach((cartItem) => {\r\n    if (productId === cartItem.productId) {\r\n      matchingItem = cartItem;\r\n    }\r\n  });\r\n\r\n  matchingItem.deliveryOptionId = deliveryOptionId;\r\n\r\n  saveToStorage();\r\n}\r\n\r\n"],"file":"cart.dev.js"}