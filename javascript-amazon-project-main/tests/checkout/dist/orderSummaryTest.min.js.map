{"version":3,"sources":["orderSummaryTest.js"],"names":["_orderSummary","require","_cart","_products","describe","productId1","productId2","done","loadProducts","beforeEach","document","querySelector","innerHTML","deliveryOptionId","and","callFake","JSON","stringify","productId","quantity","expect","length","cart","innerText","concat","toContain","it","click","querySelectorAll","toEqual","not"],"mappings":"aAAA,IAAAA,cAAAC,QAAA,0CACAC,MAAAD,QAAA,sBADAE,UAAAF,QAAA,0BACAG,SAAA,iCAAA,WAIE,IAAMC,EAAa,uCAHrBC,EAAA,uCAEAF,UAAS,SAAAG,IACP,EAAAJ,UAAAK,cAAgB,WACVF,QAMLG,WAJD,WAOAA,MAAAA,aAAW,WAGTC,SAASC,cAAc,sBAAsBC,UAA7CF,mGASIG,MAAAA,aAAgB,WAAEC,IAAAC,SAAA,WAHG,OAIpBC,KAAAC,UAAA,CAAA,CACDC,UAAWZ,EACXa,SAAU,EACVN,iBAAkB,KAPpB,CADFK,UAAAZ,EAWAa,SAAA,EAEAN,iBAAA,UAKAO,EAAAA,MAAAA,oBAMAA,EAAAA,cAAAA,wBAQAV,GAAAA,oBAAA,WACAU,OAGAA,SACEV,iBAASC,2BAATU,QAEFD,QACEV,GAEFU,OACAA,SAAOE,cAAPF,wBAAAA,OAAkCd,IAAlCiB,WAEAb,UAASC,eAdXS,OAlDFV,SAAAC,cAAA,wBAAAa,OAAAlB,IAAAiB,WA6CME,UAAU,eAEZf,SAASC,cAAc,sBAAsBC,UAAY,KAG3Dc,GAAG,oBAAqB,WACtBhB,SAASC,cAAT,mBAAAa,OAA0CnB,IAAcsB,QACxDP,OACEV,SAASkB,iBAAiB,2BAA2BP,QACrDQ,QAAQ,GACVT,OACEV,SAASC,cAAT,2BAAAa,OAAkDnB,KAClDwB,QAAQ,MACVT,OACEV,SAASC,cAAT,2BAAAa,OAAkDlB,KAClDwB,IAAID,QAAQ,MACdT,OAAOE,MAAAA,KAAKD,QAAQQ,QAAQ,GAC5BT,OAAOE,MAAAA,KAAK,GAAGJ,WAAWW,QAAQvB,GAElCI,SAASC,cAAc,sBAAsBC,UAAY","file":"orderSummaryTest.min.js","sourcesContent":["import {renderOrderSummary} from '../../scripts/checkout/orderSummary.js';\r\nimport {loadFromStorage, cart} from '../../data/cart.js';\r\nimport {loadProducts} from '../../data/products.js';\r\n\r\ndescribe('test suite: renderOrderSummary', () => {\r\n  const productId1 = 'e43638ce-6aa0-4b85-b27f-e1d07eb678c6';\r\n  const productId2 = '15b6fc6f-327a-4ec4-896f-486349e85a3d';\r\n\r\n  beforeAll((done) => {\r\n    loadProducts(() => {\r\n      done();\r\n    });\r\n  });\r\n\r\n\r\n  beforeEach(() => {\r\n    spyOn(localStorage, 'setItem');\r\n\r\n    document.querySelector('.js-test-container').innerHTML = `\r\n      <div class=\"js-order-summary\"></div>\r\n      <div class=\"js-payment-summary\"></div>\r\n    `;\r\n\r\n    spyOn(localStorage, 'getItem').and.callFake(() => {\r\n      return JSON.stringify([{\r\n        productId: productId1,\r\n        quantity: 2,\r\n        deliveryOptionId: '1'\r\n      }, {\r\n        productId: productId2,\r\n        quantity: 1,\r\n        deliveryOptionId: '2'\r\n      }]);\r\n    });\r\n    loadFromStorage();\r\n\r\n    renderOrderSummary();\r\n  });\r\n\r\n\r\n  it('displays the cart', () => {\r\n    expect(\r\n      document.querySelectorAll('.js-cart-item-container').length\r\n    ).toEqual(2);\r\n    expect(\r\n      document.querySelector(`.js-product-quantity-${productId1}`).innerText\r\n    ).toContain('Quantity: 2');\r\n    expect(\r\n      document.querySelector(`.js-product-quantity-${productId2}`).innerText\r\n    ).toContain('Quantity: 1');\r\n\r\n    document.querySelector('.js-test-container').innerHTML = '';\r\n  });\r\n\r\n  it('removes a product', () => {\r\n    document.querySelector(`.js-delete-link-${productId1}`).click();\r\n    expect(\r\n      document.querySelectorAll('.js-cart-item-container').length\r\n    ).toEqual(1);\r\n    expect(\r\n      document.querySelector(`.js-cart-item-container-${productId1}`)\r\n    ).toEqual(null);\r\n    expect(\r\n      document.querySelector(`.js-cart-item-container-${productId2}`)\r\n    ).not.toEqual(null);\r\n    expect(cart.length).toEqual(1);\r\n    expect(cart[0].productId).toEqual(productId2);\r\n\r\n    document.querySelector('.js-test-container').innerHTML = '';\r\n  });\r\n});"]}