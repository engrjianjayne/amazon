{"version":3,"sources":["orderSummaryTest.js"],"names":["_orderSummary","require","_cart","describe","productId1","productId2","beforeEach","spyOn","localStorage","innerHTML","quantity","and","callFake","deliveryOptionId","productId","loadFromStorage","expect","it","document","querySelectorAll","length","cart","innerText","querySelector","concat","toContain","click","toEqual","not"],"mappings":"aAAA,IAAAA,cAAAC,QAAA,0CACAC,MAAAD,QAAA,sBAEAE,SAAS,iCAAkC,WAF3C,IAAAC,EAAA,uCAIQC,EAAa,uCADnBC,WAAMF,WACNG,MAAMF,aAAa,WAGjBE,SAAMC,cAAc,sBAApBC,UAAAF,mGAUIG,MAAAA,aAFqB,WAAAC,IAAAC,SAAA,WAGrBC,OAAAA,KAAAA,UAAkB,CAAA,CAHEC,UAInBV,EACDU,SAAS,EACTJ,iBAFC,KAGDG,CAPKC,UAAPT,EADFK,SAAA,EAWAG,iBAAA,UAMA,EAAAX,MAAAa,oBAIAC,EAAAA,cAAAA,wBAUFC,GAAG,oBAAqB,WACtBC,OACAF,SACEE,iBAASC,2BAAiBC,QAE5BJ,QACEE,GAEFF,OAGAA,SAAOK,cAAPL,wBAAAA,OAAAZ,IAAAkB,WACAN,UAAOK,eAEPH,OAdFA,SAAAK,cAAA,wBAAAC,OAAAnB,IAAAiB,WA3CFG,UAAA,eAwCIP,SAASK,cAAc,sBAAsBd,UAAY,KAG3DQ,GAAG,oBAAqB,WACtBC,SAASK,cAAT,mBAAAC,OAA0CpB,IAAcsB,QACxDV,OACEE,SAASC,iBAAiB,2BAA2BC,QACrDO,QAAQ,GACVX,OACEE,SAASK,cAAT,2BAAAC,OAAkDpB,KAClDuB,QAAQ,MACVX,OACEE,SAASK,cAAT,2BAAAC,OAAkDnB,KAClDuB,IAAID,QAAQ,MACdX,OAAOK,MAAAA,KAAKD,QAAQO,QAAQ,GAC5BX,OAAOK,MAAAA,KAAK,GAAGP,WAAWa,QAAQtB,GAElCa,SAASK,cAAc,sBAAsBd,UAAY","file":"orderSummaryTest.min.js","sourcesContent":["import {renderOrderSummary} from '../../scripts/checkout/orderSummary.js';\r\nimport {loadFromStorage, cart} from '../../data/cart.js';\r\n\r\ndescribe('test suite: renderOrderSummary', () => {\r\n  const productId1 = 'e43638ce-6aa0-4b85-b27f-e1d07eb678c6';\r\n  const productId2 = '15b6fc6f-327a-4ec4-896f-486349e85a3d';\r\n\r\n  beforeEach(() => {\r\n    spyOn(localStorage, 'setItem');\r\n\r\n    document.querySelector('.js-test-container').innerHTML = `\r\n      <div class=\"js-order-summary\"></div>\r\n      <div class=\"js-payment-summary\"></div>\r\n    `;\r\n\r\n    spyOn(localStorage, 'getItem').and.callFake(() => {\r\n      return JSON.stringify([{\r\n        productId: productId1,\r\n        quantity: 2,\r\n        deliveryOptionId: '1'\r\n      }, {\r\n        productId: productId2,\r\n        quantity: 1,\r\n        deliveryOptionId: '2'\r\n      }]);\r\n    });\r\n    loadFromStorage();\r\n\r\n    renderOrderSummary();\r\n  });\r\n\r\n\r\n  it('displays the cart', () => {\r\n    expect(\r\n      document.querySelectorAll('.js-cart-item-container').length\r\n    ).toEqual(2);\r\n    expect(\r\n      document.querySelector(`.js-product-quantity-${productId1}`).innerText\r\n    ).toContain('Quantity: 2');\r\n    expect(\r\n      document.querySelector(`.js-product-quantity-${productId2}`).innerText\r\n    ).toContain('Quantity: 1');\r\n\r\n    document.querySelector('.js-test-container').innerHTML = '';\r\n  });\r\n\r\n  it('removes a product', () => {\r\n    document.querySelector(`.js-delete-link-${productId1}`).click();\r\n    expect(\r\n      document.querySelectorAll('.js-cart-item-container').length\r\n    ).toEqual(1);\r\n    expect(\r\n      document.querySelector(`.js-cart-item-container-${productId1}`)\r\n    ).toEqual(null);\r\n    expect(\r\n      document.querySelector(`.js-cart-item-container-${productId2}`)\r\n    ).not.toEqual(null);\r\n    expect(cart.length).toEqual(1);\r\n    expect(cart[0].productId).toEqual(productId2);\r\n\r\n    document.querySelector('.js-test-container').innerHTML = '';\r\n  });\r\n});"]}