{"version":3,"sources":["orderSummaryTest.js"],"names":["describe","productId1","productId2","beforeAll","done","beforeEach","spyOn","localStorage","document","querySelector","innerHTML","and","callFake","JSON","stringify","productId","quantity","deliveryOptionId","it","expect","querySelectorAll","length","toEqual","innerText","toContain","click","not","cart"],"mappings":";;AAAA;;AACA;;AACA;;AAEAA,QAAQ,CAAC,gCAAD,EAAmC,YAAM;AAC/C,MAAMC,UAAU,GAAG,sCAAnB;AACA,MAAMC,UAAU,GAAG,sCAAnB;AAEAC,EAAAA,SAAS,CAAC,UAACC,IAAD,EAAU;AAClB,gCAAa,YAAM;AACjBA,MAAAA,IAAI;AACL,KAFD;AAGD,GAJQ,CAAT;AAOAC,EAAAA,UAAU,CAAC,YAAM;AACfC,IAAAA,KAAK,CAACC,YAAD,EAAe,SAAf,CAAL;AAEAC,IAAAA,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CC,SAA7C;AAKAJ,IAAAA,KAAK,CAACC,YAAD,EAAe,SAAf,CAAL,CAA+BI,GAA/B,CAAmCC,QAAnC,CAA4C,YAAM;AAChD,aAAOC,IAAI,CAACC,SAAL,CAAe,CAAC;AACrBC,QAAAA,SAAS,EAAEd,UADU;AAErBe,QAAAA,QAAQ,EAAE,CAFW;AAGrBC,QAAAA,gBAAgB,EAAE;AAHG,OAAD,EAInB;AACDF,QAAAA,SAAS,EAAEb,UADV;AAEDc,QAAAA,QAAQ,EAAE,CAFT;AAGDC,QAAAA,gBAAgB,EAAE;AAHjB,OAJmB,CAAf,CAAP;AASD,KAVD;AAWA;AAEA;AACD,GAtBS,CAAV;AAyBAC,EAAAA,EAAE,CAAC,mBAAD,EAAsB,YAAM;AAC5BC,IAAAA,MAAM,CACJX,QAAQ,CAACY,gBAAT,CAA0B,yBAA1B,EAAqDC,MADjD,CAAN,CAEEC,OAFF,CAEU,CAFV;AAGAH,IAAAA,MAAM,CACJX,QAAQ,CAACC,aAAT,gCAA+CR,UAA/C,GAA6DsB,SADzD,CAAN,CAEEC,SAFF,CAEY,aAFZ;AAGAL,IAAAA,MAAM,CACJX,QAAQ,CAACC,aAAT,gCAA+CP,UAA/C,GAA6DqB,SADzD,CAAN,CAEEC,SAFF,CAEY,aAFZ;AAIAhB,IAAAA,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CC,SAA7C,GAAyD,EAAzD;AACD,GAZC,CAAF;AAcAQ,EAAAA,EAAE,CAAC,mBAAD,EAAsB,YAAM;AAC5BV,IAAAA,QAAQ,CAACC,aAAT,2BAA0CR,UAA1C,GAAwDwB,KAAxD;AACAN,IAAAA,MAAM,CACJX,QAAQ,CAACY,gBAAT,CAA0B,yBAA1B,EAAqDC,MADjD,CAAN,CAEEC,OAFF,CAEU,CAFV;AAGAH,IAAAA,MAAM,CACJX,QAAQ,CAACC,aAAT,mCAAkDR,UAAlD,EADI,CAAN,CAEEqB,OAFF,CAEU,IAFV;AAGAH,IAAAA,MAAM,CACJX,QAAQ,CAACC,aAAT,mCAAkDP,UAAlD,EADI,CAAN,CAEEwB,GAFF,CAEMJ,OAFN,CAEc,IAFd;AAGAH,IAAAA,MAAM,CAACQ,WAAKN,MAAN,CAAN,CAAoBC,OAApB,CAA4B,CAA5B;AACAH,IAAAA,MAAM,CAACQ,WAAK,CAAL,EAAQZ,SAAT,CAAN,CAA0BO,OAA1B,CAAkCpB,UAAlC;AAEAM,IAAAA,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,EAA6CC,SAA7C,GAAyD,EAAzD;AACD,GAfC,CAAF;AAgBD,CAlEO,CAAR","sourcesContent":["import {renderOrderSummary} from '../../scripts/checkout/orderSummary.js';\r\nimport {loadFromStorage, cart} from '../../data/cart.js';\r\nimport {loadProducts} from '../../data/products.js';\r\n\r\ndescribe('test suite: renderOrderSummary', () => {\r\n  const productId1 = 'e43638ce-6aa0-4b85-b27f-e1d07eb678c6';\r\n  const productId2 = '15b6fc6f-327a-4ec4-896f-486349e85a3d';\r\n\r\n  beforeAll((done) => {\r\n    loadProducts(() => {\r\n      done();\r\n    });\r\n  });\r\n\r\n\r\n  beforeEach(() => {\r\n    spyOn(localStorage, 'setItem');\r\n\r\n    document.querySelector('.js-test-container').innerHTML = `\r\n      <div class=\"js-order-summary\"></div>\r\n      <div class=\"js-payment-summary\"></div>\r\n    `;\r\n\r\n    spyOn(localStorage, 'getItem').and.callFake(() => {\r\n      return JSON.stringify([{\r\n        productId: productId1,\r\n        quantity: 2,\r\n        deliveryOptionId: '1'\r\n      }, {\r\n        productId: productId2,\r\n        quantity: 1,\r\n        deliveryOptionId: '2'\r\n      }]);\r\n    });\r\n    loadFromStorage();\r\n\r\n    renderOrderSummary();\r\n  });\r\n\r\n\r\n  it('displays the cart', () => {\r\n    expect(\r\n      document.querySelectorAll('.js-cart-item-container').length\r\n    ).toEqual(2);\r\n    expect(\r\n      document.querySelector(`.js-product-quantity-${productId1}`).innerText\r\n    ).toContain('Quantity: 2');\r\n    expect(\r\n      document.querySelector(`.js-product-quantity-${productId2}`).innerText\r\n    ).toContain('Quantity: 1');\r\n\r\n    document.querySelector('.js-test-container').innerHTML = '';\r\n  });\r\n\r\n  it('removes a product', () => {\r\n    document.querySelector(`.js-delete-link-${productId1}`).click();\r\n    expect(\r\n      document.querySelectorAll('.js-cart-item-container').length\r\n    ).toEqual(1);\r\n    expect(\r\n      document.querySelector(`.js-cart-item-container-${productId1}`)\r\n    ).toEqual(null);\r\n    expect(\r\n      document.querySelector(`.js-cart-item-container-${productId2}`)\r\n    ).not.toEqual(null);\r\n    expect(cart.length).toEqual(1);\r\n    expect(cart[0].productId).toEqual(productId2);\r\n\r\n    document.querySelector('.js-test-container').innerHTML = '';\r\n  });\r\n});"],"file":"orderSummaryTest.dev.js"}